<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hausa Medical Glossary</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background: url('hausa background.png') no-repeat center center fixed;
      background-size: cover;
      color: #222;
    }

    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      background-color: #ffcc33;
      padding: 15px 30px;
      border-bottom: 2px solid #4CAF50;
    }

    header .logo {
      display: flex;
      align-items: center;
    }

    header img {
      height: 60px;
      margin-right: 15px;
    }

    header h1 {
      font-size: 1.8rem;
      margin: 0;
      color: #2c3e50;
      font-weight: bold;
    }

    nav {
      display: flex;
      gap: 20px;
    }

    nav button {
      background: none;
      border: none;
      font-size: 1rem;
      font-weight: bold;
      cursor: pointer;
      padding: 8px 12px;
      border-radius: 6px;
    }

    nav button.active, nav button:hover {
      background-color: #4CAF50;
      color: white;
    }

    main {
      max-width: 900px;
      margin: 30px auto;
      padding: 20px;
      background-color: rgba(255, 255, 255, 0.95);
      border-radius: 12px;
      box-shadow: 0px 4px 12px rgba(0,0,0,0.15);
      text-align: center;
    }

    .search-box {
      width: 80%;
      max-width: 500px;
      padding: 15px;
      font-size: 18px;
      border-radius: 10px;
      border: 1px solid #ccc;
      margin-bottom: 20px;
    }

    .button {
      background-color: #4CAF50;
      color: white;
      border: none;
      padding: 12px 25px;
      font-size: 16px;
      border-radius: 8px;
      cursor: pointer;
    }

    .button:hover {
      background-color: #45a049;
    }

    #controls {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 20px;
    }

    input, select {
      padding: 10px;
      font-size: 16px;
      border-radius: 8px;
      border: 1px solid #ccc;
      flex: 1;
      min-width: 200px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 20px;
    }

    th, td {
      border: 1px solid #ddd;
      padding: 10px;
      text-align: left;
    }

    th {
      background-color: #4CAF50;
      color: white;
      cursor: pointer;
    }

    tr:nth-child(even) {
      background-color: #f9f9f9;
    }

    tr:hover {
      background-color: #f1f1f1;
    }

    mark {
      background-color: yellow;
    }

    .section {
      display: none;
    }

    .active-section {
      display: block;
    }

    .no-results {
      color: red;
      font-weight: bold;
      margin: 20px 0;
    }

    .about-section {
      text-align: left;
      margin-top: 20px;
    }

    .about-section h3 {
      margin-top: 20px;
      color: #2c3e50;
    }

    .creator {
      display: flex;
      align-items: center;
      margin-top: 15px;
    }

    .creator img {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      margin-right: 20px;
    }

  </style>
</head>
<body>
  <header>
    <div class="logo">
      <img src="hausa logo.png" alt="Hausa Logo">
      <h1>Hausa Medical Glossary</h1>
    </div>
    <nav>
      <button onclick="switchSection('home')" id="homeTab" class="active">Home</button>
      <button onclick="switchSection('glossary')" id="glossaryTab">Glossary</button>
      <button onclick="switchSection('resources')" id="resourcesTab">Resources</button>
      <button onclick="switchSection('about')" id="aboutTab">About</button>
    </nav>
  </header>

  <main>
    <!-- Home -->
    <div id="home" class="section active-section">
      <h2>Search Hausa Medical Terms</h2>
      <input type="text" id="landingSearch" class="search-box" placeholder="Type to search...">
      <br>
      <button class="button" onclick="showGlossary()">Search Glossary</button>
    </div>

    <!-- Glossary -->
    <div id="glossary" class="section">
      <div id="controls">
        <input type="text" id="searchInput" placeholder="Type to search...">
        <select id="regionFilter">
          <option value="">All Categories</option>
        </select>
      </div>

      <table id="glossaryTable">
        <thead>
          <tr>
            <th data-column="English">English</th>
            <th data-column="Definition (English)">Definition (English)</th>
            <th data-column="Definition(Hausa)">Definition (Hausa)</th>
            <th data-column="Hausa">Hausa</th>
            <th data-column="Region">Region</th>
            <th data-column="Ontology Links">Ontology Links</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>

      <div id="noResults" class="no-results" style="display:none;">No matching terms found.</div>
    </div>

    <!-- Resources -->
    <div id="resources" class="section">
      <h2>Resources</h2>
      <p>Downloadable posters and learning materials will be available here soon.</p>
    </div>

    <!-- About -->
    <div id="about" class="section">
      <h2>About</h2>
      <div class="about-section">
        <p>This website was created to make <strong>medical terminology accessible in Hausa</strong>, so that Hausa-speaking communities can better understand, learn, and use health information. Clear and accurate terminology is essential for effective communication in healthcare for patients, students, and professionals.</p>

        <h3>What are Ontologies?</h3>
        <p>An ontology is a <strong>structured framework</strong> that defines concepts and the relationships between them, so knowledge can be shared and used consistently.</p>

        <h3>Why We Use Ontologies</h3>
        <p>By using ontologies, this website makes information <strong>organized, searchable, and consistent</strong>. They provide a common definition of terms, ensuring clarity and consensus about what each term means and what it refers to. This consistency makes it simpler for others to contribute, share, and expand the knowledge base.</p>

        <h3>Meet the Creator</h3>
        <div class="creator">
          <img src="ikram_profile.jpeg" alt="Ikram Isa">
          <p>This project was started by <strong>Ikram Isa</strong>, a biomedical engineer and medical physiology student passionate about bridging gaps in healthcare knowledge. By combining medical science with accessible language tools, the aim is to make health information clearer and more useful for Hausa-speaking communities.</p>
        </div>
      </div>
    </div>
  </main>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
  <script>
    const tableBody = document.querySelector('#glossaryTable tbody');
    const searchInput = document.getElementById('searchInput');
    const landingSearch = document.getElementById('landingSearch');
    const regionFilter = document.getElementById('regionFilter');
    const headers = document.querySelectorAll('#glossaryTable th');
    const noResults = document.getElementById('noResults');

    let glossaryData = [];
    let sortColumn = null;
    let sortAscending = true;

    Papa.parse('hausamedicalterms.csv', {
      download: true,
      header: true,
      skipEmptyLines: true,
      complete: function(results) {
        glossaryData = results.data;
        populateRegionFilter(glossaryData);
        displayTable(glossaryData);
      }
    });

    function populateRegionFilter(data) {
      const regions = Array.from(new Set(data.map(row => row['Region']).filter(Boolean))).sort();
      regions.forEach(region => {
        const option = document.createElement('option');
        option.value = region;
        option.textContent = region;
        regionFilter.appendChild(option);
      });
    }

    function highlightText(text, term) {
      if (!text || !term) return text || '';
      const regex = new RegExp(`(${term})`, 'gi');
      return text.replace(regex, '<mark>$1</mark>');
    }

    function formatOntologyLink(url) {
      if (!url) return '';
      const match = url.match(/obo\/([A-Z]+)_(\d+)/);
      if (match) {
        return `<a href="${url}" target="_blank">${match[1]}:${match[2]}</a>`;
      }
      return `<a href="${url}" target="_blank">${url}</a>`;
    }

    function displayTable(data) {
      const filterText = (searchInput.value || landingSearch.value).toLowerCase();
      const filterRegion = regionFilter.value;

      let filteredData = data.filter(row => {
        const english = (row['English'] || '').toLowerCase();
        const hausa = (row['Hausa'] || '').toLowerCase();
        const combined = Object.values(row).join(' ').toLowerCase();

        return (
          (filterText === '' || english.includes(filterText) || hausa.includes(filterText) || combined.includes(filterText)) &&
          (filterRegion === '' || row['Region'] === filterRegion)
        );
      });

      if (sortColumn) {
        filteredData.sort((a, b) => {
          const valA = (a[sortColumn] || '').toLowerCase();
          const valB = (b[sortColumn] || '').toLowerCase();
          if (valA < valB) return sortAscending ? -1 : 1;
          if (valA > valB) return sortAscending ? 1 : -1;
          return 0;
        });
      }

      tableBody.innerHTML = '';
      if (filteredData.length === 0) {
        noResults.style.display = 'block';
        return;
      }
      noResults.style.display = 'none';

      filteredData.forEach(row => {
        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td>${highlightText(row['English'], filterText)}</td>
          <td>${highlightText(row['Definition (English)'], filterText)}</td>
          <td>${highlightText(row['Definition(Hausa)'], filterText)}</td>
          <td>${highlightText(row['Hausa'], filterText)}</td>
          <td>${highlightText(row['Region'], filterText)}</td>
          <td>${formatOntologyLink(row['Ontology Links'])}</td>
        `;
        tableBody.appendChild(tr);
      });
    }

    function switchSection(sectionId) {
      document.querySelectorAll('.section').forEach(sec => sec.classList.remove('active-section'));
      document.getElementById(sectionId).classList.add('active-section');

      document.querySelectorAll('nav button').forEach(btn => btn.classList.remove('active'));
      document.getElementById(sectionId + 'Tab').classList.add('active');
    }

    function showGlossary() {
      switchSection('glossary');
      searchInput.value = landingSearch.value;
      displayTable(glossaryData);
    }

    searchInput.addEventListener('input', () => displayTable(glossaryData));
    landingSearch.addEventListener('keypress', (e) => { if (e.key === 'Enter') showGlossary(); });
    regionFilter.addEventListener('change', () => displayTable(glossaryData));

    headers.forEach(header => {
      header.addEventListener('click', () => {
        const column = header.dataset.column;
        if (sortColumn === column) {
          sortAscending = !sortAscending;
        } else {
          sortColumn = column;
          sortAscending = true;
        }
        displayTable(glossaryData);
      });
    });
  </script>
</body>
</html>




